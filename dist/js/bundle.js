require=function t(e,i,o){function n(r,h){if(!i[r]){if(!e[r]){var c="function"==typeof require&&require;if(!h&&c)return c(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+r+"'")}var a=i[r]={exports:{}};e[r][0].call(a.exports,function(t){var i=e[r][1][t];return n(i?i:t)},a,a.exports,t,e,i,o)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t){"use strict";var e=t("./utils/boid.js"),i=t("./utils/graphics.js"),o=t("randomColor"),n=t("FPS"),s=t("Keyboard");!function(){function t(){i.clear();var t=l[Math.floor(l.length*Math.random())];p=t.size,f=t.decrement,c()}function r(){for(x=0;x<u.length;x++){var t=u[x];t.wander(),t.update()}_.update()}function h(){for(x=0;x<u.length;x++){var t=u[x];i.fill(t.color),i.circle(t.position.x,t.position.y,p)}p-=f}function c(){p>0&&(window.requestAnimationFrame(c),r(),h())}function a(){p>0||t()}var u=[],d=o({count:50,format:"rgb"}),l=[{size:400,decrement:1},{size:800,decrement:20},{size:800,decrement:4},{size:100,decrement:.1},{size:8,decrement:.01}],p=0,f=0,_=new n;i.init();for(var x=0;x<d.length;x++){var y=d[x],g=new e;g.setBounds(i.width,i.height),g.position.x=i.width*Math.random(),g.position.y=i.height*Math.random(),g._maxSpeed=5,g.color=y,u.push(g)}t(),window.addEventListener("resize",function(){i.size()}),document.addEventListener("keyup",function(t){switch(t.keyCode){case s.SPACEBAR:a();break;case s.I:i.openImage()}}),document.body.addEventListener("click",a)}()},{"./utils/boid.js":2,"./utils/graphics.js":3,FPS:"8Cn9B8",Keyboard:"GAPNAH",randomColor:"kOrPUe"}],2:[function(t,e){"use strict";function i(){this._position=o.get(),this._velocity=o.get(),this._steeringForce=o.get(),this._bounds={x:0,y:0,width:640,height:480},this._edgeBehavior=i.EDGE_BOUNCE,this._mass=1,this._maxSpeed=10,this._maxForce=1,this._arrivalThreshold=50,this._wanderDistance=10,this._wanderRadius=5,this._wanderAngle=0,this._wanderRange=1,this._avoidDistance=300,this._avoidBuffer=20,this._pathIndex=0,this._pathThreshold=20,this._inSightDistance=300,this._tooCloseDistance=60}var o=t("./vec2.js");i.EDGE_WRAP="wrap",i.EDGE_BOUNCE="bounce",i.prototype.setBounds=function(t,e,i,o){this._bounds.width=t,this._bounds.height=e,this._bounds.x=i||0,this._bounds.y=o||0},i.prototype.update=function(){this._steeringForce.truncate(this._maxForce),this._steeringForce.divideBy(this._mass),this._velocity=this._velocity.add(this._steeringForce,!0),this._steeringForce.reset(),this._velocity.truncate(this._maxSpeed),this._position=this._position.add(this._velocity,!0),this._edgeBehavior===i.EDGE_WRAP?this.wrap():this._edgeBehavior===i.EDGE_BOUNCE&&this.bounce()},i.prototype.bounce=function(){this._position.x>this._bounds.width?(this._position.x=this._bounds.width,this._velocity.x*=-1):this._position.x<this._bounds.x&&(this._position.x=this._bounds.x,this._velocity.x*=-1),this._position.y>this._bounds.height?(this._position.y=this._bounds.height,this._velocity.y*=-1):this._position.y<this._bounds.y&&(this._position.y=this._bounds.y,this._velocity.y*=-1)},i.prototype.wrap=function(){this._position.x>this._bounds.width?this._position.x=this._bounds.x:this._position.x<this._bounds.x&&(this._position.x=this._bounds.width),this._position.y>this._bounds.height?this._position.y=this._bounds.y:this._position.y<this._bounds.y&&(this._position.y=this._bounds.height)},i.prototype.seek=function(t){var e=t.subtract(this._position);e.normalize(),e.scaleBy(this._maxSpeed);var i=e.subtract(this._velocity,!0);this._steeringForce=this._steeringForce.add(i,!0),i.dispose()},i.prototype.flee=function(t){var e=t.subtract(this._position);e.normalize(),e.scaleBy(this._maxSpeed);var i=e.subtract(this._velocity,!0);this._steeringForce=this._steeringForce.subtract(i,!0),i.dispose()},i.prototype.arrive=function(t){var e=t.subtract(this._position);e.normalize();var i=this._position.distance(t);if(i>this._arrivalThreshold)e.scaleBy(this._maxSpeed);else{var o=this._maxSpeed*i/this._arrivalThreshold;e.scaleBy(o)}var n=e.subtract(this._velocity,!0);this._steeringForce=this._steeringForce.add(n,!0),n.dispose()},i.prototype.pursue=function(t){var e=this._position.distance(t._position)/this._maxSpeed,i=t._velocity.clone().scaleBy(e),o=t._position.add(i);this.seek(o),i.dispose(),o.dispose()},i.prototype.evade=function(t){var e=this._position.distance(t._position)/this._maxSpeed,i=t._velocity.clone().scaleBy(e),o=t._position.add(i);this.flee(o),o.dispose()},i.prototype.wander=function(){var t=this._velocity.clone().normalize().scaleBy(this._wanderDistance),e=o.get();e.length=this._wanderRadius,e.angle=this._wanderAngle,this._wanderAngle+=Math.random()*this._wanderRange-.5*this._wanderRange;var i=t.add(e,!0);this._steeringForce=this._steeringForce.add(i,!0),e.dispose(),i.dispose()},i.prototype.avoid=function(t){for(var e=t.length,i=0;e>i;i++){var o=t[i],n=this._velocity.clone().normalize(),s=o.position.subtract(this._position),r=s.dotProduct(n);if(r>0){var h=n.clone().scaleBy(this._avoidDistance),c=n.clone().scaleBy(r),a=c.subtract(s),u=a.length;if(u<o.radius+this._avoidBuffer&&c.length<h.length){var d=n.clone().scaleBy(this._maxSpeed);d.angle+=s.sign(this._velocity)*Math.PI/2,d.scaleBy(1-c.length/h.length),this._steeringForce=this._steeringForce.add(d,!0),this._velocity.scaleBy(c.length/h.length),d.dispose()}h.dispose(),c.dispose(),a.dispose()}n.dispose(),s.dispose()}},i.Circle=function(t,e,i){this.radius=t,this.position=o.get(e,i)},i.prototype.followPath=function(t,e){e=void 0===e?!1:e;var i=t[this._pathIndex];i&&(this._position.distance(i)<this._pathThreshold&&(this._pathIndex>=t.length-1?e&&(this._pathIndex=0):this._pathIndex++),this._pathIndex>=t.length-1&&!e?this.arrive(i):this.seek(i))},i.prototype.flock=function(t){for(var e=this._velocity.clone(),i=o.get(),n=0,s=t.length,r=0;s>r;r++){var h=t[r];h!==this&&this._inSight(h)&&(e=e.add(h._velocity,!0),i=i.add(h._position,!0),this._tooClose(h)&&this.flee(h._position),n++)}n>0&&(e.divideBy(n),i.divideBy(n),this.seek(i),this._steeringForce.add(e.subtract(this._velocity,!0),!0)),e.dispose(),i.dispose()},i.prototype._inSight=function(t){if(this._position.distance(t._position)>this._inSightDistance)return!1;var e=this._velocity.clone().normalize(),i=t._position.subtract(this._position),o=i.dotProduct(e);return e.dispose(),i.dispose(),0>o?!1:!0},i.prototype._tooClose=function(t){return this._position.distance(t._position)<this._tooCloseDistance},Object.defineProperty(i.prototype,"position",{get:function(){return this._position}}),Object.defineProperty(i.prototype,"velocity",{get:function(){return this._velocity}}),Object.defineProperty(i.prototype,"edgeBehavior",{get:function(){return this.__edgeBehavior},set:function(t){this._edgeBehavior=t}}),"object"==typeof e&&e.exports&&(e.exports=i)},{"./vec2.js":4}],3:[function(t,e){"use strict";var i={init:function(){document.getElementsByTagName("canvas").length>0?this.canvas=document.getElementsByTagName("canvas")[0]:(this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas)),this.context=this.canvas.getContext("2d"),this.size(),this._textFont="Times",this._textSize=12,this.context.font=this._textSize+"px "+this._textFont},size:function(t,e){this.width=this.canvas.width=t||window.innerWidth,this.height=this.canvas.height=e||window.innerHeight},clear:function(t){t?(this.context.fillStyle=t,this.context.fillRect(0,0,this.width,this.height)):this.context.clearRect(0,0,this.width,this.height)},background:function(t,e,i){this.clear("rgb("+t+", "+i+", "+e+")")},fill:function(t,e,i,o){return"string"==typeof t?void(this.context.fillStyle=t):(o=void 0===o?1:o,void(this.context.fillStyle="rgba("+t+", "+i+", "+e+", "+o+")"))},stroke:function(t,e,i,o){o=void 0===o?1:o,this.context.strokeStyle="rgba("+t+", "+i+", "+e+", "+o+")"},strokeWeight:function(t){this.context.lineWidth=t},move:function(t,e){this.context.moveTo(t,e)},line:function(t,e,i,o){this.context.beginPath(),this.context.moveTo(t,e),this.context.lineTo(i,o),this.context.stroke()},rect:function(t,e,i,o,n){void 0!==n&&0!==n?(this.context.save(),this.context.translate(t+i/2,e+o/2),this.context.rotate(n),this.context.rect(-i/2,-o/2,i,o),this.context.fill(),this.context.stroke(),this.context.restore()):(this.context.rect(t,e,i,o),this.context.fill(),this.context.stroke())},circle:function(t,e,i){this.context.beginPath(),this.context.arc(t,e,i,0,2*Math.PI,!1),this.context.fill(),this.context.stroke()},triangle:function(t,e,i,o,n){void 0!==n&&0!==n?(this.context.save(),this.context.translate(t,e),this.context.rotate(n),this.context.beginPath(),this.context.moveTo(0-i/2,0+o/2),this.context.lineTo(0,0-o/2),this.context.lineTo(0+i/2,0+o/2),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.restore()):(this.context.beginPath(),this.context.moveTo(t-i/2,e+o/2),this.context.lineTo(t,e-o/2),this.context.lineTo(t+i/2,e+o/2),this.context.closePath(),this.context.stroke(),this.context.fill())},triangleABC:function(t,e,i,o,n,s){this.context.beginPath(),this.context.moveTo(t,e),this.context.lineTo(i,o),this.context.lineTo(n,s),this.context.closePath(),this.context.stroke(),this.context.fill()},image:function(t,e,i,o){if(void 0!==o&&0!==o){var n=t.width/2,s=t.height/2;this.context.save(),this.context.translate(e+n,i+s),this.context.rotate(o),this.context.drawImage(t,-n,-s),this.context.restore()}else this.context.drawImage(t,e,i)},cross:function(t){this.context.beginPath(),this.context.moveTo(-t,-t),this.context.lineTo(t,t),this.context.moveTo(-t,t),this.context.lineTo(t,-t),this.context.stroke()},text:function(t,e,i){this.context.fillText(t,e,i)},textFont:function(t){this._textFont=t,this.context.font=this._textSize+"px "+t},textSize:function(t){this._textSize=t,this.context.font=t+"px "+this._textFont},openImage:function(){var t=window.open("","Canvas Image"),e=this.canvas.toDataURL("image/png");t.document.write('<img src="'+e+'" width="'+this.width+'" height="'+this.height+'" />')},downloadImage:function(){var t=this.canvas.toDataURL("image/png").replace("image/png","image/octet-stream");window.location.href=t}};"object"==typeof e&&e.exports&&(e.exports=i)},{}],4:[function(t,e){"use strict";function i(t,e){this.x=t||0,this.y=e||0}i.prototype={add:function(t,e){return e?(this.x=this.x+t.x,this.y=this.y+t.y,this):i.get(this.x+t.x,this.y+t.y)},subtract:function(t,e){return e?(this.x=this.x-t.x,this.y=this.y-t.y,this):i.get(this.x-t.x,this.y-t.y)},multiply:function(t,e){return e?(this.x=this.x*t.x,this.y=this.y*t.y,this):i.get(this.x*t.x,this.y*t.y)},divide:function(t,e){return e?(this.x=this.x/t.x,this.y=this.y/t.y,this):i.get(this.x/t.x,this.y/t.y)},normalize:function(){var t=this.length;return 0===t?(this.x=1,this):(this.x/=t,this.y/=t,this)},isNormalized:function(){return 1===this.length},truncate:function(t){return this.length>t&&(this.length=t),this},scaleBy:function(t){return this.x*=t,this.y*=t,this},divideBy:function(t){return this.x/=t,this.y/=t,this},equals:function(t){return this.x===t.x&&this.y===t.y},negate:function(){return this.x=-this.x,this.y=-this.y,this},reverse:function(){return this.negate(),this},dotProduct:function(t){return this.x*t.x+this.y*t.y},crossProduct:function(t){return this.x*t.y-this.y*t.x},distanceSquared:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},distance:function(t){return Math.sqrt(this.distanceSquared(t))},clone:function(){return i.get(this.x,this.y)},zero:function(){return this.x=0,this.y=0,this},isZero:function(){return 0===this.x&&0===this.y},reset:function(){return this.zero()},perpendicular:function(){return i.get(-this.y,this.x)},sign:function(t){var e=this.perpendicular(),i=e.dotProduct(t)<0?-1:1;return e.dispose(),i},set:function(t,e){return this.x=t||0,this.y=e||0,this},dispose:function(){i.pool.push(this.zero())}},i.pool=[],i.get=function(t,e){var o=i.pool.length>0?i.pool.pop():new i;return o.set(t,e),o},i.angleBetween=function(t,e){return t.isNormalized()||(t=t.clone().normalize()),e.isNormalized()||(e=e.clone().normalize()),Math.acos(t.dotProduct(e))},Object.defineProperty(i.prototype,"lengthSquared",{get:function(){return this.x*this.x+this.y*this.y}}),Object.defineProperty(i.prototype,"length",{get:function(){return Math.sqrt(this.lengthSquared)},set:function(t){var e=this.angle;this.x=Math.cos(e)*t,this.y=Math.sin(e)*t}}),Object.defineProperty(i.prototype,"angle",{get:function(){return Math.atan2(this.y,this.x)},set:function(t){var e=this.length;this.x=Math.cos(t)*e,this.y=Math.sin(t)*e}}),"object"==typeof e&&e.exports&&(e.exports=i)},{}],FPS:[function(t,e){e.exports=t("8Cn9B8")},{}],"8Cn9B8":[function(t,e){"use strict";function i(){function t(){i.innerHTML="FPS: "+s+"<br />AVE: "+r}function e(e){void 0===e&&(e=Date.now()),0===o&&(o=e),e-1e3>o&&(o=e,s=n,n=0,s>1&&(h++,c+=s,r=Math.floor(c/h)),t()),n++}var i=document.getElementById("fps"),o=0,n=0,s=0,r=0,h=0,c=0;return i||(i=document.createElement("div"),i.setAttribute("id","fps"),i.style.position="absolute",i.style.top="0px",i.style.right="0px",i.style.padding="2px 6px",i.style.zIndex="9999",i.style.background="#000",i.style.color="#fff",document.body.appendChild(i)),{update:e}}"object"==typeof e&&e.exports&&(e.exports=i)},{}],GAPNAH:[function(t,e){var i={A:"A".charCodeAt(0),B:"B".charCodeAt(0),C:"C".charCodeAt(0),D:"D".charCodeAt(0),E:"E".charCodeAt(0),F:"F".charCodeAt(0),G:"G".charCodeAt(0),H:"H".charCodeAt(0),I:"I".charCodeAt(0),J:"J".charCodeAt(0),K:"K".charCodeAt(0),L:"L".charCodeAt(0),M:"M".charCodeAt(0),N:"N".charCodeAt(0),O:"O".charCodeAt(0),P:"P".charCodeAt(0),Q:"Q".charCodeAt(0),R:"R".charCodeAt(0),S:"S".charCodeAt(0),T:"T".charCodeAt(0),U:"U".charCodeAt(0),V:"V".charCodeAt(0),W:"W".charCodeAt(0),X:"X".charCodeAt(0),Y:"Y".charCodeAt(0),Z:"Z".charCodeAt(0),ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0),FOUR:"4".charCodeAt(0),FIVE:"5".charCodeAt(0),SIX:"6".charCodeAt(0),SEVEN:"7".charCodeAt(0),EIGHT:"8".charCodeAt(0),NINE:"9".charCodeAt(0),NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,UNDERSCORE:189,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144};"object"==typeof e&&e.exports&&(e.exports=i)},{}],Keyboard:[function(t,e){e.exports=t("GAPNAH")},{}],kOrPUe:[function(t,e,i){!function(t,o){if("function"==typeof define&&define.amd)define([],o);else if("object"==typeof i){var n=o();"object"==typeof e&&e&&e.exports&&(i=e.exports=n),i.randomColor=n}else t.randomColor=o()}(this,function(){function t(t){var e=s(t.hue),i=c(e);return 0>i&&(i=360+i),i}function e(t,e){if("random"===e.luminosity)return c([0,100]);if("monochrome"===e.hue)return 0;var i=r(t),o=i[0],n=i[1];switch(e.luminosity){case"bright":o=55;break;case"dark":o=n-10;break;case"light":n=55}return c([o,n])}function i(t,e,i){var o=n(t,e),s=100;switch(i.luminosity){case"dark":s=o+20;break;case"light":o=(s+o)/2;break;case"random":o=0,s=100}return c([o,s])}function o(t,e){switch(e.format){case"hsvArray":return t;case"hsv":return p("hsv",t);case"rgbArray":return l(t);case"rgb":return p("rgb",l(t));default:return a(t)}}function n(t,e){for(var i=h(t).lowerBounds,o=0;o<i.length-1;o++){var n=i[o][0],s=i[o][1],r=i[o+1][0],c=i[o+1][1];if(e>=n&&r>=e){var a=(c-s)/(r-n),u=s-a*n;return a*e+u}}return 0}function s(t){if("number"==typeof parseInt(t)){var e=parseInt(t);if(360>e&&e>0)return[e,e]}if("string"==typeof t&&f[t]){var i=f[t];if(i.hueRange)return i.hueRange}return[0,360]}function r(t){return h(t).saturationRange}function h(t){t>=334&&360>=t&&(t-=360);for(var e in f){var i=f[e];if(i.hueRange&&t>=i.hueRange[0]&&t<=i.hueRange[1])return f[e]}return"Color not found"}function c(t){return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]))}function a(t){function e(t){var e=t.toString(16);return 1==e.length?"0"+e:e}var i=l(t),o="#"+e(i[0])+e(i[1])+e(i[2]);return o}function u(t,e,i){var o=i[0][0],n=i[i.length-1][0],s=i[i.length-1][1],r=i[0][1];f[t]={hueRange:e,lowerBounds:i,saturationRange:[o,n],brightnessRange:[s,r]}}function d(){u("monochrome",null,[[0,0],[100,0]]),u("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),u("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),u("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),u("green",[63,158],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),u("blue",[159,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),u("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),u("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function l(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var i=t[1]/100,o=t[2]/100,n=Math.floor(6*e),s=6*e-n,r=o*(1-i),h=o*(1-s*i),c=o*(1-(1-s)*i),a=256,u=256,d=256;switch(n){case 0:a=o,u=c,d=r;break;case 1:a=h,u=o,d=r;break;case 2:a=r,u=o,d=c;break;case 3:a=r,u=h,d=o;break;case 4:a=c,u=r,d=o;break;case 5:a=o,u=r,d=h}var l=[Math.floor(255*a),Math.floor(255*u),Math.floor(255*d)];return l}function p(t,e){return t+"("+e.join(", ")+")"}var f={};d();var _=function(n){n=n||{};var s,r,h;if(n.count){var c=n.count,a=[];for(n.count=!1;c>a.length;)a.push(_(n));return a}return s=t(n),r=e(s,n),h=i(s,r,n),o([s,r,h],n)};return _})},{}],randomColor:[function(t,e){e.exports=t("kOrPUe")},{}]},{},[1]);